<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Leave Application</title>
  </head>
  <body
    style="
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
      font-family: 'Segoe UI', Arial, sans-serif;
    "
  >
    <table
      align="center"
      width="100%"
      cellpadding="0"
      cellspacing="0"
      style="
        max-width: 650px;
        background-color: #ffffff;
        margin: 30px auto;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
      "
    >
      <!-- Header with Logo -->
      <tr>
        <td style="padding: 0; background: #2c3e50">
          <img
            src="http://localhost:4000/logo.jpg"
            alt="Spondias"
            style="width: 180px; height: auto; display: block; margin: 15px auto"
          />
        </td>
      </tr>

      <!-- Title -->
      <tr>
        <td
          style="
            background-color: #f9fafc;
            text-align: center;
            padding: 25px 20px;
            border-bottom: 1px solid #e5e5e5;
          "
        >
          <h2 style="color: #2c3e50; margin: 0; font-size: 24px">
            Leave Application Request
          </h2>
        </td>
      </tr>

      <!-- Body -->
      <tr>
        <td style="padding: 30px 25px; color: #333333; font-size: 15px; line-height: 1.6">
          <p>Dear <strong>${reportingManager?.name || "Manager"}</strong>,</p>

          <p>
            <strong>${employeeName}</strong> has applied for leave. Below are
            the details:
          </p>

          <!-- Leave Details Table -->
          <table
            width="100%"
            cellpadding="8"
            cellspacing="0"
            style="margin: 20px 0; border-collapse: collapse; font-size: 14px"
          >
            <tr style="background: #eef2f7">
              <td style="border: 1px solid #ddd; font-weight: bold">Employee Name</td>
              <td style="border: 1px solid #ddd">${employeeName}</td>
            </tr>
            <tr>
              <td style="border: 1px solid #ddd; font-weight: bold">Leave Dates</td>
              <td style="border: 1px solid #ddd">
                ${new Date(startDate).toLocaleDateString()} –
                ${new Date(endDate).toLocaleDateString()}
              </td>
            </tr>
            <tr style="background: #eef2f7">
              <td style="border: 1px solid #ddd; font-weight: bold">Total Days</td>
              <td style="border: 1px solid #ddd">${totalDays}</td>
            </tr>
            <tr>
              <td style="border: 1px solid #ddd; font-weight: bold">Reason</td>
              <td style="border: 1px solid #ddd">${reason}</td>
            </tr>
            <tr style="background: #eef2f7">
              <td style="border: 1px solid #ddd; font-weight: bold">Leaves Left</td>
              <td style="border: 1px solid #ddd">${leavesLeft ?? "N/A"}</td>
            </tr>
            <tr>
              <td style="border: 1px solid #ddd; font-weight: bold">Status</td>
              <td style="border: 1px solid #ddd">
                <span
                  style="
                    display: inline-block;
                    padding: 4px 10px;
                    border-radius: 6px;
                    background-color: ${
                      status === "Approved"
                        ? "#27ae60"
                        : status === "Rejected"
                        ? "#e74c3c"
                        : "#f39c12"
                    };
                    color: #fff;
                    font-weight: bold;
                  "
                  >${status}</span
                >
              </td>
            </tr>
          </table>

          <p style="margin-top: 20px">
            Please take the necessary action on this request.
          </p>
          <p>Regards,<br /><strong>HR System</strong></p>
        </td>
      </tr>

      <!-- Footer -->
      <tr>
        <td
          style="
            text-align: center;
            font-size: 12px;
            color: #999999;
            padding: 18px;
            background-color: #f9fafc;
            border-top: 1px solid #e5e5e5;
          "
        >
          ©2025 Spondias. All rights reserved.
        </td>
      </tr>
    </table>
  </body>
</html>
